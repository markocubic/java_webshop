<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <link href="/webjars/bootstrap/4.3.1/css/bootstrap.css" rel="stylesheet" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript" src="/webjars/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../static/main.js" th:src="@{/main.js}"></script>
    <link th:href="@{/styles.css}" rel="stylesheet" />
    <meta charset="UTF-8">
    <title>Cart</title>
</head>
<body>
<div th:replace="/shared/header :: header" />
<div class="cart-container container pt-3 mb-5">
    <div class="content-block content-block-left mr-3">
        <h2 class="mb-4">CART</h2>
        <div th:each="product, iStat : ${uniqueProducts}" class="cart-list">
            <div class="product-wrapper border-bottom border-warning" >
                <img th:src="${product.image}" height="200px" width=200px class="product-image">
                <div class="product-info p-2 pl-4">
                    <div class="product-info-left">
                        <h5 th:text="${product.name}" />
                        <p th:text="${product.description}" />
                    </div>
                    <div class="product-info-right">
                        <span><h4 class="d-inline">$</h4><h4 th:text="${product.price}" class="mt-5 d-inline" /></span>
                        <span><h4 class="d-inline">x</h4><h4 th:text="*{uniqueProductsAmount[__${iStat.index}__]}" class="mt-5 d-inline" /></span>
                        <a th:href="@{/cart/removeItem/(index=${product.getId()})}" class="product-button-remove btn mb-4">Remove</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="content-block content-block-right">
        <h6 class="mb-3">Total amount</h6>
        <div class="price-info">
            <p>Amount</p>
            <span><p class="d-inline">$</p><p th:text="${total}" class="d-inline" /></span>
        </div>
        <div class="price-info">
            <p>Shipping</p>
            <p>Gratis</p>
        </div>
        <div class="price-info font-weight-bold mt-2 pt-2 border-top border-warning">
            <p>Total amount:</p>
            <span><p class="d-inline">$</p><p th:text="${total}" class="d-inline" /></span>
        </div>

        <a class="checkout-button btn mt-3 font-weight-bold">Go to checkout</a>
    </div>
</div>
</body>
</html>